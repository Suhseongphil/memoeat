# 최적화 테스트 체크리스트

> **목표**: 모든 최적화가 기존 동작을 유지하면서 성능만 개선되었는지 확인

## ✅ 완료된 최적화 항목

1. **Supabase 쿼리 최적화** (7.1.2)
2. **React Query 캐싱 전략** (7.1.1)
3. **React.memo 적용** (7.2.1)
4. **useMemo 추가 적용** (7.2.3)

---

## 🧪 테스트 항목

### 1. 기본 기능 테스트 (Critical)

#### 1.1 메모 CRUD

- [ ] **메모 생성**

  - 새 메모 버튼 클릭 시 메모 생성되는지 확인
  - 생성된 메모가 사이드바에 즉시 표시되는지 확인
  - 탭이 자동으로 열리는지 확인

- [ ] **메모 읽기**

  - 메모 클릭 시 탭이 열리는지 확인
  - 메모 내용이 에디터에 표시되는지 확인
  - 여러 메모를 열었을 때 탭 순서가 유지되는지 확인

- [ ] **메모 수정**

  - 제목 변경이 즉시 반영되는지 확인
  - 내용 변경 시 자동 저장이 작동하는지 확인
  - 저장 상태 표시가 올바른지 확인

- [ ] **메모 삭제**
  - 메모 삭제 시 사이드바에서 사라지는지 확인
  - 열려있던 탭이 닫히는지 확인
  - 삭제 후 다른 메모가 선택되는지 확인

#### 1.2 폴더 CRUD

- [ ] **폴더 생성**

  - 새 폴더 생성 시 트리에 표시되는지 확인
  - 폴더 이름 변경이 작동하는지 확인

- [ ] **폴더 이동**

  - 드래그앤드롭으로 폴더 이동이 작동하는지 확인
  - 폴더 순서 변경이 저장되는지 확인

- [ ] **폴더 삭제**
  - 폴더 삭제 시 하위 메모도 함께 삭제되는지 확인
  - 하위 폴더도 함께 삭제되는지 확인

#### 1.3 메모 이동

- [ ] **메모를 폴더로 이동**

  - 드래그앤드롭으로 메모를 폴더로 이동하는지 확인
  - 이동 후 사이드바에서 메모 위치가 변경되는지 확인
  - **중요**: 열려있는 탭의 순서가 변경되지 않는지 확인 ⚠️

- [ ] **메모 순서 변경**
  - 같은 폴더 내에서 메모 순서 변경이 작동하는지 확인
  - 순서 변경 후 새로고침 시 순서가 유지되는지 확인

#### 1.4 즐겨찾기

- [ ] 즐겨찾기 토글 시 즉시 반영되는지 확인
- [ ] 즐겨찾기 패널에 올바르게 표시되는지 확인

---

### 2. 캐싱 동작 테스트 (7.1.1)

#### 2.1 React Query 캐싱

- [ ] **캐시 동작 확인**

  - 메모 목록을 불러온 후 2분 이내에 다시 접속 시 네트워크 요청이 없는지 확인 (개발자 도구 Network 탭)
  - 폴더 목록을 불러온 후 5분 이내에 다시 접속 시 네트워크 요청이 없는지 확인

- [ ] **캐시 무효화 확인**

  - 메모 생성/수정/삭제 후 사이드바가 업데이트되는지 확인
  - 폴더 생성/수정/삭제 후 트리가 업데이트되는지 확인

- [ ] **새로고침 동작**
  - 새로고침 시 데이터가 올바르게 로드되는지 확인
  - 열려있던 탭이 복원되는지 확인 (localStorage 사용 시)

---

### 3. 렌더링 최적화 테스트 (7.2.1, 7.2.3)

#### 3.1 React.memo 동작

- [ ] **TabBar 리렌더링**

  - 메모를 열었을 때 다른 탭이 리렌더링되지 않는지 확인 (React DevTools Profiler 사용)
  - 탭을 닫았을 때 다른 탭이 리렌더링되지 않는지 확인

- [ ] **NoteItemSimple 리렌더링**

  - 메모를 선택했을 때 다른 메모 아이템이 리렌더링되지 않는지 확인
  - 메모를 수정했을 때 다른 메모 아이템이 리렌더링되지 않는지 확인

- [ ] **FolderItem 리렌더링**
  - 폴더를 선택했을 때 다른 폴더가 리렌더링되지 않는지 확인
  - 폴더를 확장/축소했을 때 다른 폴더가 리렌더링되지 않는지 확인

#### 3.2 useMemo 동작

- [ ] **필터링 성능**
  - 많은 메모(50개 이상)가 있을 때 사이드바 스크롤이 부드러운지 확인
  - 즐겨찾기 패널 전환 시 즉시 표시되는지 확인
  - 검색 시 결과가 빠르게 표시되는지 확인

---

### 4. 네트워크 최적화 테스트 (7.1.2)

#### 4.1 쿼리 최적화 확인

- [ ] **네트워크 요청 크기**

  - 개발자 도구 Network 탭에서 메모 목록 요청 크기 확인
  - 이전보다 작아졌는지 확인 (select('\*') → select('id, data, created_at, updated_at'))
  - 폴더 목록 요청 크기 확인

- [ ] **응답 시간**
  - 메모 목록 로딩 시간 확인
  - 폴더 목록 로딩 시간 확인
  - 이전보다 빨라졌는지 확인

---

### 5. 성능 측정

#### 5.1 개발자 도구 사용

- [ ] **React DevTools Profiler**

  - 메모를 열 때 렌더링 시간 측정
  - 메모를 수정할 때 렌더링 시간 측정
  - 불필요한 리렌더링이 없는지 확인

- [ ] **Chrome DevTools Performance**

  - 페이지 로드 시간 측정
  - 메모 목록 렌더링 시간 측정
  - 메모리 사용량 확인

- [ ] **Network 탭**
  - 불필요한 네트워크 요청이 없는지 확인
  - 캐시가 올바르게 작동하는지 확인

#### 5.2 Lighthouse 점수

- [ ] **Performance 점수**

  - 이전 점수와 비교
  - 90점 이상 목표

- [ ] **번들 크기**
  - 빌드 후 번들 크기 확인
  - 이전보다 작아졌는지 확인

---

### 6. 특수 케이스 테스트

#### 6.1 메모 이동 시 탭 순서 (중요 ⚠️)

- [ ] **시나리오 1**: 3개의 메모를 열고, 사이드바에서 메모를 이동

  - 탭 순서가 변경되지 않는지 확인
  - 탭 내용이 올바른지 확인

- [ ] **시나리오 2**: 여러 메모를 열고, 폴더를 변경
  - 탭 순서가 유지되는지 확인
  - 탭이 사라지지 않는지 확인

#### 6.2 대량 데이터 테스트

- [ ] **많은 메모 (100개 이상)**

  - 사이드바 스크롤 성능 확인
  - 메모 검색 성능 확인
  - 메모 필터링 성능 확인

- [ ] **많은 폴더 (50개 이상)**
  - 폴더 트리 렌더링 성능 확인
  - 폴더 확장/축소 성능 확인

#### 6.3 동시 작업 테스트

- [ ] **빠른 연속 작업**
  - 메모를 빠르게 생성/삭제했을 때 오류가 없는지 확인
  - 폴더를 빠르게 생성/삭제했을 때 오류가 없는지 확인
  - UI가 깨지지 않는지 확인

---

### 7. 브라우저 호환성

- [ ] **Chrome** - 모든 기능 정상 작동 확인
- [ ] **Firefox** - 모든 기능 정상 작동 확인
- [ ] **Edge** - 모든 기능 정상 작동 확인
- [ ] **Safari** (가능한 경우) - 모든 기능 정상 작동 확인

---

### 8. 모바일 반응형

- [ ] **모바일 화면 (1024px 미만)**
  - 사이드바 토글이 작동하는지 확인
  - 메모 선택 시 사이드바가 닫히는지 확인
  - 터치 제스처가 작동하는지 확인

---

## 🐛 발견된 문제 체크리스트

발견된 문제가 있으면 아래에 기록:

### 문제 1

- **설명**:
- **재현 단계**:
- **예상 원인**:
- **해결 방법**:

### 문제 2

- **설명**:
- **재현 단계**:
- **예상 원인**:
- **해결 방법**:

---

## ✅ 테스트 완료 확인

- [ ] 모든 Critical 항목 통과
- [ ] 성능 개선 확인
- [ ] 기존 기능 정상 작동 확인
- [ ] 발견된 문제 없음 또는 모두 해결됨

**테스트 완료일**: ******\_\_\_******
**테스터**: ******\_\_\_******

---

## 📝 참고사항

### 테스트 도구 사용법

1. **React DevTools Profiler**

   - Chrome 확장 프로그램 설치
   - Profiler 탭에서 "Record" 클릭
   - 작업 수행 후 "Stop" 클릭
   - 리렌더링된 컴포넌트 확인

2. **Chrome DevTools Performance**

   - Performance 탭 열기
   - "Record" 클릭
   - 작업 수행
   - "Stop" 클릭
   - 렌더링 시간 확인

3. **Network 탭**
   - Network 탭 열기
   - "Disable cache" 체크 해제 (캐시 테스트 시)
   - 작업 수행
   - 요청 크기 및 시간 확인
